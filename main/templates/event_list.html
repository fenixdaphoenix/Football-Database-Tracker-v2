{% extends "base.html" %}
{% block title %}Events{% endblock %}

{% block content %}
<h1 class="text-center mb-4">ğŸ“… Event List</h1>

<div class="mb-4 text-center">
    <form method="get" class="d-inline-block">
        <select name="type" class="form-select d-inline-block w-auto me-2">
            <option value="">All Event Types</option>
            {% for val,label in event_types %}
                <option value="{{ val }}" {% if type_filter == val %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-primary btn-sm">Filter</button>
        {% if type_filter %}
            <a href="{% url 'event_list' %}" class="btn btn-secondary btn-sm">Reset</a>
        {% endif %}
    </form>
</div>

<table class="table table-bordered table-hover fs-4">
  <thead class="table-dark">
    <tr>
      <th class="px-4 py-3">Title</th>
      <th class="px-4 py-3">Date</th>
      <th class="px-4 py-3">Time</th>
      <th class="px-4 py-3">Type</th>
      <th class="px-4 py-3">Location</th>
      <th class="px-4 py-3">Description</th>
      <th class="px-4 py-3 text-center">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for event in events %}
    <tr>
      <td class="px-4 py-3">{{ event.title }}</td>
      <td class="px-4 py-3">{{ event.date }}</td>
      <td class="px-4 py-3">{{ event.time }}</td>
      <td class="px-4 py-3">{{ event.get_type_display }}</td>
      <td class="px-4 py-3">{{ event.location }}</td>
      <td class="px-4 py-3">{{ event.description }}</td>
      <td class="px-4 py-3 text-center">
        <a href="{% url 'edit_event' event.id %}" class="btn btn-warning btn-sm">âœ Edit</a>
        <a href="{% url 'delete_event' event.id %}" class="btn btn-danger btn-sm">ğŸ—‘ Delete</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7" class="text-center text-muted px-4 py-3">No events scheduled.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<a href="{% url 'add_event' %}" 
    class="btn btn-success rounded-circle shadow-lg d-flex align-items-center justify-content-center"
    style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; font-size: 28px;">
    +
</a>

{% endblock %}